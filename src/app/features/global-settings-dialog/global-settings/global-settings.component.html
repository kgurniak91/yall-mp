<div class="settings-container">
  <p-fieldset legend="Playback Control" [toggleable]="false">
    <div class="setting-item">
      <label for="seek-seconds">Seek Amount (seconds)</label>
      <p-inputNumber [ngModel]="globalSettingsStateService.seekAmountSeconds()"
                     (ngModelChange)="globalSettingsStateService.setSeekAmountSeconds($event)"
                     [showButtons]="true"
                     [min]="1"
                     [max]="30"
                     [step]="1"
                     inputId="seek-seconds"
                     suffix="s"/>
    </div>
  </p-fieldset>

  <p-fieldset legend="Timeline Generation" [toggleable]="false">
    <div class="setting-item">
      <label for="generate-audio-peaks" class="font-semibold">Generate Audio Waveform</label>
      <p-inputSwitch inputId="generate-audio-peaks"
                     [ngModel]="globalSettingsStateService.generateAudioPeaks()"
                     (ngModelChange)="globalSettingsStateService.setGenerateAudioPeaks($event)"/>
    </div>
    <small class="block mt-2 text-sm">
      Displays a visual waveform of the audio on the timeline.<br><br>
      <b>Warning:</b> This is slow process (e.g., ~1 minute for a 2-hour movie) that has to be done once per project.<br>
      It is recommended to keep this disabled for the fastest project loading.<br><br>
      If enabled, a waveform will be generated for any project that is loaded without one.<br>
      Disabling this setting will <b>not</b> remove waveforms from projects that already have them.
    </small>
  </p-fieldset>

  <p-fieldset legend="Timeline Editing" [toggleable]="false">
    <div class="setting-item-column">
      <label for="adjustValue">
        Boundary Adjust Amount ({{ globalSettingsStateService.boundaryAdjustAmountMs() }}ms)
      </label>
      <p-slider id="adjustValue"
                [ngModel]="globalSettingsStateService.boundaryAdjustAmountMs()"
                (ngModelChange)="globalSettingsStateService.setBoundaryAdjustAmountMs($event)"
                [min]="0"
                [max]="100"
                [step]="10"/>
    </div>
  </p-fieldset>

  <p-fieldset legend="Subtitles" [toggleable]="false">
    <div class="setting-item-column">
      <label for="srt-font-size">Font Size (px)</label>
      <p-inputNumber inputId="srt-font-size"
                     [ngModel]="globalSettingsStateService.srtFontSizePx()"
                     (ngModelChange)="onSrtFontSizeChange($event)"
                     [showButtons]="true"
                     [min]="MIN_SRT_FONT_SIZE"
                     [max]="MAX_SRT_FONT_SIZE"
                     [step]="1"/>
      <small class="block mt-2">Adjusts the size of plain-text (SRT, VTT) subtitles.</small>
    </div>

    <div class="setting-item-column">
      <label for="srt-bg-opacity">
        Background Opacity ({{ (globalSettingsStateService.srtBackgroundOpacity() * 100) | number:'1.0-0' }}%)
      </label>
      <p-slider id="srt-bg-opacity"
                [ngModel]="globalSettingsStateService.srtBackgroundOpacity()"
                (ngModelChange)="onSrtBackgroundOpacityChange($event)"
                [min]="0"
                [max]="1"
                [step]="0.01"/>
    </div>

    <div class="subtitle-preview-container" [style.background-color]="globalSettingsStateService.srtBackgroundColor()">
      <div class="subtitle-preview" [style.font-size.px]="globalSettingsStateService.srtFontSizePx()">
        Subtitle Preview Text
      </div>
    </div>
  </p-fieldset>
</div>
